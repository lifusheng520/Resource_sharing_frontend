{"version":3,"sources":["webpack:///src/components/user/favourite/FavouriteFolderManager.vue","webpack:///./src/components/user/favourite/FavouriteFolderManager.vue?4ea2","webpack:///./src/components/user/favourite/FavouriteFolderManager.vue"],"names":["FavouriteFolderManager","name","data","folderPageData","user_id","currentPage","total","pageSize","folderTableData","folderSelectList","visible","dialogFormVisible","newFolderForm","folder_name","created","this","getLoginUserInfo","loadFavouriteFolderInfoList","methods","handleSelectionChange","select","removeDefaultFolder","k","i","$refs","multipleTable","selection","length","splice","$message","info","$t","handleSizeChange","val","handleCurrentChange","userId","$cookies","get","$router","push","out_this","$axios","post","then","response","resData","code","pageList","error","getTimePass","timeStamp","now","Date","getTime","result","gapTime","parseInt","hours","min","days","years","getFullYear","month","getMonth","Math","abs","timeFormat","date","year","day","getDate","hour","getHours","getMinutes","sec","getSeconds","deleteFavouriteFolders","console","log","message","type","center","duration","cancelSelect","clearSelection","newFolderHandler","favourite_FavouriteFolderManager","render","_vm","_h","$createElement","_c","_self","attrs","id","staticStyle","margin","description","width","_v","_s","size","on","click","$event","title","update:visible","model","label","autocomplete","value","callback","$$v","$set","expression","staticClass","slot","directives","rawName","placement","trigger","text-align","plain","ref","tooltip-effect","default-sort","prop","order","selection-change","sortable","min-width","scopedSlots","_u","key","fn","scope","row","time","align","background","current-page","page-size","layout","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"sGAwFA,IAAAA,GACAC,KAAA,yBACAC,KAFA,WAGA,OAEAC,gBACAC,QAAA,GACAC,aAAA,EACAC,OAAA,EACAC,SAAA,IAGAC,mBACAC,oBACAC,SAAA,EACAC,mBAAA,EAEAC,eACAR,QAAA,GACAS,YAAA,MAIAC,QAvBA,WAyBAC,KAAAC,mBAGAD,KAAAE,+BAEAC,SAEAC,sBAFA,WAGA,IAAAC,EAAAL,KAAAM,sBACAN,KAAAN,iBAAAW,GAGAC,oBAPA,WASA,IADA,IAAAC,GAAA,EACAC,EAAA,EAAAA,EAAAR,KAAAS,MAAAC,cAAAC,UAAAC,SAAAJ,EACA,aAAAR,KAAAS,MAAAC,cAAAC,UAAAH,GAAAV,YAAA,CACAS,EAAAC,EACA,MAEA,UAAAD,GACAP,KAAAS,MAAAC,cAAAC,UAAAE,OAAAN,EAAA,GACAP,KAAAc,SAAAC,KAAAf,KAAAgB,GAAA,2CACAhB,KAAAS,MAAAC,cAAAC,WAEAX,KAAAS,MAAAC,cAAAC,WAGAM,iBAtBA,SAsBAC,GACAlB,KAAAZ,eAAAI,SAAA0B,EACAlB,KAAAE,+BAGAiB,oBA3BA,SA2BAD,GACAlB,KAAAZ,eAAAE,YAAA4B,EACAlB,KAAAE,+BAGAD,iBAhCA,WAiCA,IAAAmB,EAAApB,KAAAqB,SAAAC,IAAA,WACAF,EACApB,KAAAZ,eAAAC,QAAA+B,GAGApB,KAAAc,SAAAC,KAAAf,KAAAgB,GAAA,mBACAhB,KAAAuB,QAAAC,KAAA,YAIAtB,4BA3CA,WA4CA,IAAAuB,EAAAzB,KACAA,KAAA0B,OAAAC,KAAA,wBAAA3B,KAAAZ,gBAAAwC,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAA1C,KAEA,OAAA2C,EAAAC,MACAN,EAAArC,eAAAE,YAAAwC,EAAA3C,KAAAG,YACAmC,EAAArC,eAAAI,SAAAsC,EAAA3C,KAAAK,SACAiC,EAAArC,eAAAG,MAAAuC,EAAA3C,KAAAI,MACAkC,EAAAhC,gBAAAqC,EAAA3C,KAAA6C,UAEAP,EAAAX,SAAAmB,MAAAH,EAAAC,KAAA,OAAAN,EAAAT,GAAA,mBAKAkB,YA3DA,SA2DAC,GACA,IAAAC,GAAA,IAAAC,MAAAC,UAEAC,OAAA,EAEAC,EAAAC,UAHAL,EAAAD,GAGA,KACAK,EAAA,KACAD,EAAAvC,KAAAgB,GAAA,oBAEAwB,EAAAC,SAAAD,EAAA,KACAD,GAAAC,EAAA,KACAD,EAAAC,EAAAxC,KAAAgB,GAAA,eAEA,IAAA0B,EAAAD,SAAAD,EAAA,IACAG,EAAAH,EAAA,IACAD,GAAAG,EAAA,KACAH,EAAAG,EAAA1C,KAAAgB,GAAA,QAAA2B,EAAA3C,KAAAgB,GAAA,eAEA,IAAA4B,EAAAH,SAAAC,EAAA,IACAA,GAAA,IACAH,GAAAK,EAAA,KACAL,EAAAK,EAAA5C,KAAAgB,GAAA,OAAA0B,EAAA1C,KAAAgB,GAAA,aAEA,IAAA6B,GAAA,IAAAR,MAAAS,cAAA,IAAAT,KAAAF,GAAAW,cAEAC,GAAA,IAAAV,MAAAW,WAAA,IAAAX,KAAAF,GAAAa,WAQA,OAPAD,EAAAE,KAAAC,IAAAH,IACAR,GAAAM,EAAA,GAAAE,EAAA,IACAR,EAAAM,EAAA7C,KAAAgB,GAAA,QAAA+B,EAAA/C,KAAAgB,GAAA,eACAuB,GAAAM,EAAA,OAAAE,IACAR,EAAAM,EAAA7C,KAAAgB,GAAA,cACAuB,GAAA,IAAAM,GAAAE,EAAA,IACAR,EAAAQ,EAAA/C,KAAAgB,GAAA,cACAuB,GAGAY,WA/FA,SA+FAhB,GACA,IAAAiB,EAAA,IAAAf,KAAAF,GAEAkB,EAAAD,EAAAN,cACAC,EAAAK,EAAAJ,WAAA,EACAM,EAAAF,EAAAG,UACAC,EAAAJ,EAAAK,WACAd,EAAAS,EAAAM,aACAC,EAAAP,EAAAQ,aASA,OAPAP,EAAA,KACAN,EAAA,OAAAA,KAAA,KACAO,EAAA,OAAAA,KAAA,KACAE,EAAA,OAAAA,KAAA,KACAb,EAAA,OAAAA,KAAA,KACAgB,EAAA,OAAAA,MAKAE,uBAnHA,WAoHAC,QAAAC,IAAA/D,KAAAN,kBACA,IAAA+B,EAAAzB,KACAA,KAAA0B,OAAAC,KAAA,2BAAA3B,KAAAN,kBAAAkC,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAA1C,KAEA,OAAA2C,EAAAC,MACAN,EAAAX,UACAkD,QAAAlC,EAAAC,KAAA,UAAAN,EAAAT,GAAA,iBACAiD,KAAA,UACAC,QAAA,EACAC,SAAA,MAIA1C,EAAArC,eAAAE,aAAA,EACAmC,EAAArC,eAAAG,OAAA,EACAkC,EAAAvB,+BAEAuB,EAAAX,SAAAmB,MAAAH,EAAAC,KAAA,SAAAN,EAAAT,GAAA,kBAIAhB,KAAAoE,gBAGAA,aA7IA,WA8IApE,KAAAN,oBACAM,KAAAS,MAAAC,cAAA2D,kBAGAC,iBAlJA,WAmJAtE,KAAAJ,mBAAA,EAEA,IAAAwB,EAAApB,KAAAqB,SAAAC,IAAA,WACA,IAAAF,EAEA,OADApB,KAAAc,SAAAC,KAAAf,KAAAgB,GAAA,mBACA,EAEA,IAAAhB,KAAAH,cAAAC,YAEA,OADAE,KAAAc,SAAAC,KAAAf,KAAAgB,GAAA,iCACA,EAEAhB,KAAAH,cAAAR,QAAA+B,EAGA,IAAAK,EAAAzB,KACAA,KAAA0B,OAAAC,KAAA,uBAAA3B,KAAAH,eAAA+B,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAA1C,KACA,MAAA2C,EAAAC,MACAN,EAAAX,UACAkD,QAAAlC,EAAAC,KAAA,SAAAN,EAAAT,GAAA,oBACAiD,KAAA,UACAE,SAAA,MAGA1C,EAAArC,eAAAE,aAAA,EACAmC,EAAArC,eAAAG,OAAA,EACAkC,EAAAvB,+BAEAuB,EAAAX,SAAAmB,MAAAH,EAAAC,KAAA,SAAAN,EAAAT,GAAA,kBAKAhB,KAAAH,cAAAC,YAAA,MCvSeyE,GADEC,OAFjB,WAA0B,IAAAC,EAAAzE,KAAa0E,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,8BAAiC,IAAA/E,KAAAP,gBAAAmB,OAAAgE,EAAA,YAAqDI,aAAaC,OAAA,YAAoBH,OAAQI,YAAA,cAA0BN,EAAA,OAAYI,aAAaC,OAAA,KAAAE,MAAA,SAA6BP,EAAA,OAAAA,EAAA,MAAAH,EAAAW,GAAAX,EAAAY,GAAAZ,EAAAzD,GAAA,oCAAAyD,EAAAW,GAAA,KAAAR,EAAA,MAAAH,EAAAW,GAAA,KAAAR,EAAA,aAA+HE,OAAOb,KAAA,UAAAqB,KAAA,SAAgCC,IAAKC,MAAA,SAAAC,GAAyBhB,EAAA7E,mBAAA,MAA+B6E,EAAAW,GAAAX,EAAAY,GAAAZ,EAAAzD,GAAA,wCAAAyD,EAAAW,GAAA,KAAAR,EAAA,aAA2FE,OAAOZ,OAAA,GAAAwB,MAAA,GAAAjB,EAAAzD,GAAA,oCAAArB,QAAA8E,EAAA7E,mBAAwG2F,IAAKI,iBAAA,SAAAF,GAAkChB,EAAA7E,kBAAA6F,MAA+Bb,EAAA,WAAgBE,OAAOc,MAAAnB,EAAA5E,iBAA2B+E,EAAA,gBAAqBE,OAAOe,MAAA,GAAApB,EAAAzD,GAAA,uCAA6D4D,EAAA,YAAiBE,OAAOgB,aAAA,OAAqBF,OAAQG,MAAAtB,EAAA5E,cAAA,YAAAmG,SAAA,SAAAC,GAA+DxB,EAAAyB,KAAAzB,EAAA5E,cAAA,cAAAoG,IAAgDE,WAAA,gCAAyC,OAAA1B,EAAAW,GAAA,KAAAR,EAAA,OAAgCwB,YAAA,gBAAAtB,OAAmCuB,KAAA,UAAgBA,KAAA,WAAezB,EAAA,aAAkBW,IAAIC,MAAA,SAAAC,GAAyBhB,EAAA7E,mBAAA,MAAgC6E,EAAAW,GAAAX,EAAAY,GAAAZ,EAAAzD,GAAA,oBAAAyD,EAAAW,GAAA,KAAAR,EAAA,aAAuEE,OAAOb,KAAA,WAAiBsB,IAAKC,MAAAf,EAAAH,oBAA8BG,EAAAW,GAAAX,EAAAY,GAAAZ,EAAAzD,GAAA,iCAAAyD,EAAAW,GAAA,KAAAR,EAAA,OAA8E0B,aAAapH,KAAA,OAAAqH,QAAA,SAAAR,MAAA,IAAA/F,KAAAN,iBAAAkB,OAAAuF,WAAA,uCAAwHC,YAAA,yBAAqCxB,EAAA,cAAmBE,OAAO0B,UAAA,MAAArB,MAAA,MAAAsB,QAAA,SAAkDb,OAAQG,MAAAtB,EAAA,QAAAuB,SAAA,SAAAC,GAA6CxB,EAAA9E,QAAAsG,GAAgBE,WAAA,aAAuBvB,EAAA,KAAAH,EAAAW,GAAAX,EAAAY,GAAAZ,EAAAzD,GAAA,qCAAAyD,EAAAW,GAAA,KAAAR,EAAA,OAA0FI,aAAa0B,aAAA,QAAAzB,OAAA,OAAmCL,EAAA,aAAkBE,OAAOQ,KAAA,OAAArB,KAAA,QAA4BsB,IAAKC,MAAA,SAAAC,GAAyBhB,EAAA9E,SAAA,MAAsB8E,EAAAW,GAAA,iBAAAX,EAAAY,GAAAZ,EAAAzD,GAAA,mCAAAyD,EAAAW,GAAA,KAAAR,EAAA,aAAuGE,OAAOb,KAAA,UAAAqB,KAAA,QAA+BC,IAAKC,OAAAf,EAAAZ,uBAAA,SAAA4B,GAAqDhB,EAAA9E,SAAA,OAAuB8E,EAAAW,GAAA,iBAAAX,EAAAY,GAAAZ,EAAAzD,GAAA,wCAAAyD,EAAAW,GAAA,KAAAR,EAAA,aAA4GE,OAAOuB,KAAA,YAAApC,KAAA,SAAAqB,KAAA,QAAAqB,MAAA,IAA6DN,KAAA,cAAkB5B,EAAAW,GAAA,eAAAX,EAAAY,GAAAZ,EAAAzD,GAAA,+BAAAyD,EAAAW,GAAA,KAAAR,EAAA,aAAiGE,OAAOQ,KAAA,QAAAqB,MAAA,IAA0BpB,IAAKC,MAAAf,EAAAL,gBAA0BK,EAAAW,GAAAX,EAAAY,GAAAZ,EAAAzD,GAAA,wBAAAyD,EAAAW,GAAA,KAAAR,EAAA,YAA0EgC,IAAA,gBAAA5B,aAAiCG,MAAA,QAAeL,OAAQ3F,KAAAsF,EAAAhF,gBAAAoH,iBAAA,OAAAC,gBAAmEC,KAAA,OAAAC,MAAA,eAAmCzB,IAAK0B,mBAAAxC,EAAArE,yBAA8CwE,EAAA,mBAAwBE,OAAOb,KAAA,YAAAkB,MAAA,QAAiCV,EAAAW,GAAA,KAAAR,EAAA,mBAAoCE,OAAOiC,KAAA,OAAAlB,MAAA,GAAApB,EAAAzD,GAAA,QAAAkG,SAAA,GAAAC,YAAA,OAA8EC,YAAA3C,EAAA4C,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA/C,EAAAW,GAAA,eAAAX,EAAAY,GAAAZ,EAAAtB,WAAAqE,EAAAC,IAAAC,OAAA,qBAAwFjD,EAAAW,GAAA,KAAAR,EAAA,mBAAoCE,OAAOiC,KAAA,OAAAlB,MAAA,GAAApB,EAAAzD,GAAA,mCAAAkG,SAAA,GAAAC,YAAA,OAAyGC,YAAA3C,EAAA4C,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA/C,EAAAW,GAAA,eAAAX,EAAAY,GAAAZ,EAAAvC,YAAAsF,EAAAC,IAAAC,OAAA,qBAAyFjD,EAAAW,GAAA,KAAAR,EAAA,mBAAoCE,OAAOiC,KAAA,iBAAAlB,MAAA,GAAApB,EAAAzD,GAAA,0CAAAkG,SAAA,GAAAC,YAAA,SAA2H1C,EAAAW,GAAA,KAAAR,EAAA,mBAAoCE,OAAOiC,KAAA,cAAAlB,MAAA,GAAApB,EAAAzD,GAAA,oCAAAmG,YAAA,UAAoG,GAAA1C,EAAAW,GAAA,KAAAR,EAAA,OAA4BwB,YAAA,QAAAtB,OAA2B6C,MAAA,YAAkB/C,EAAA,MAAAH,EAAAW,GAAA,KAAAR,EAAA,iBAA2CE,OAAO8C,WAAA,GAAAC,eAAApD,EAAArF,eAAAE,YAAAwI,YAAArD,EAAArF,eAAAI,SAAAuI,OAAA,0CAAAxI,MAAAkF,EAAArF,eAAAG,OAA0LgG,IAAKyC,cAAAvD,EAAAxD,iBAAAgH,iBAAAxD,EAAAtD,wBAA6E,YAEpsI+G,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEpJ,EACAsF,GATF,EAVA,SAAA+D,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/20.101ad6b927c0627763ef.js","sourcesContent":["<template>\n  <div id=\"div_favourite_folder_box\">\n    <el-empty v-if=\"this.folderTableData.length === 0\" style=\"margin: 20% auto\"\n              description=\"啥也没有哇~~~\"></el-empty>\n    <div v-else style=\"margin: 3%; width: 94%\">\n\n      <div>\n        <h3>{{$t('favouriteFolderManager.title')}}</h3>\n        <br>\n\n        <!-- Form -->\n        <el-button type=\"primary\" size=\"small\" @click=\"dialogFormVisible = true\">{{$t('favouriteFolderManager.newFolder')}}</el-button>\n\n        <el-dialog center :title=\"`${$t('favouriteFolderManager.newFolder')}`\" :visible.sync=\"dialogFormVisible\">\n          <el-form :model=\"newFolderForm\">\n            <el-form-item :label=\"`${$t('favouriteFolderManager.albumName')}`\">\n              <el-input v-model=\"newFolderForm.folder_name\" autocomplete=\"off\"></el-input>\n            </el-form-item>\n          </el-form>\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"dialogFormVisible = false\">{{$t('cancelButton')}}</el-button>\n            <el-button type=\"primary\" @click=\"newFolderHandler\">{{$t('confirmButton')}}</el-button>\n          </div>\n        </el-dialog>\n\n      </div>\n      <div v-show=\"this.folderSelectList.length !== 0\" class=\"div-operation-button\">\n        <el-popover placement=\"top\"\n                    width=\"200\" trigger=\"click\" v-model=\"visible\">\n\n          <p>{{ $t('favouriteFolderManager.notice') }}</p>\n          <div style=\"text-align: right; margin: 0\">\n            <el-button size=\"mini\" type=\"text\" @click=\"visible = false\">\n              {{$t('cancelButton')}}\n            </el-button>\n            <el-button v-on:click=\"deleteFavouriteFolders\" type=\"primary\" size=\"mini\" @click=\"visible = false\">\n              {{$t('confirmButton')}}\n            </el-button>\n          </div>\n\n          <el-button slot=\"reference\" type=\"danger\" size=\"small\" plain>\n            {{$t('delete')}}\n          </el-button>\n        </el-popover>\n        <el-button v-on:click=\"cancelSelect\" size=\"small\" plain>{{$t('cancelButton')}}</el-button>\n      </div>\n\n      <el-table\n        ref=\"multipleTable\"\n        :data=\"folderTableData\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%\"\n        :default-sort=\"{prop: 'time', order: 'descending'}\"\n        @selection-change=\"handleSelectionChange\">\n\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n\n        <el-table-column prop=\"time\" :label=\"`${$t('date')}`\" sortable min-width=\"160\">\n          <template slot-scope=\"scope\">\n            {{timeFormat(scope.row.time)}}\n          </template>\n        </el-table-column>\n\n        <el-table-column prop=\"time\" :label=\"`${$t('favouriteFolderManager.duration')}`\" sortable min-width=\"140\">\n          <template slot-scope=\"scope\">\n            {{getTimePass(scope.row.time)}}\n          </template>\n        </el-table-column>\n\n        <el-table-column prop=\"resourceNumber\" :label=\"`${$t('favouriteFolderManager.favouriteAmount')}`\" sortable min-width=\"100\"></el-table-column>\n        <el-table-column prop=\"folder_name\" :label=\"`${$t('favouriteFolderManager.albumName')}`\" min-width=\"320\"></el-table-column>\n\n      </el-table>\n\n      <div class=\"block\" align=\"center\">\n        <br>\n        <el-pagination\n          background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n          :current-page=\"folderPageData.currentPage\" :page-size=\"folderPageData.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\" :total=\"folderPageData.total\">\n        </el-pagination>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"FavouriteFolderManager\",\n    data() {\n      return {\n        // 收藏夹翻页数据\n        folderPageData: {\n          user_id: '',\n          currentPage: -1,\n          total: -1,\n          pageSize: 10\n        },\n        // 表格中的收藏夹数据\n        folderTableData: [],\n        folderSelectList: [],\n        visible: false,\n        dialogFormVisible: false,\n        // 新建收藏夹表单\n        newFolderForm: {\n          user_id: '',\n          folder_name: '',\n        },\n      }\n    },\n    created() {\n      // 获取登录信息\n      this.getLoginUserInfo();\n\n      // 加载用户的收藏夹信息\n      this.loadFavouriteFolderInfoList();\n    },\n    methods: {\n      // 选中的内容处理函数\n      handleSelectionChange() {\n        let select = this.removeDefaultFolder();\n        this.folderSelectList = select;\n      },\n      // 去除默认收藏夹\n      removeDefaultFolder() {\n        let k = -1;\n        for (let i = 0; i < this.$refs.multipleTable.selection.length; ++i)\n          if ('默认收藏夹' === this.$refs.multipleTable.selection[i].folder_name) {\n            k = i;\n            break;\n          }\n        if (k != -1) {\n          this.$refs.multipleTable.selection.splice(k, 1);\n          this.$message.info(this.$t('favouriteFolderManager.denialOperation'));\n          return this.$refs.multipleTable.selection;\n        }\n        return this.$refs.multipleTable.selection;\n      },\n      // 改变每页的大小时的事件\n      handleSizeChange(val) {\n        this.folderPageData.pageSize = val;\n        this.loadFavouriteFolderInfoList();\n      },\n      // 改变当前页码的事件\n      handleCurrentChange(val) {\n        this.folderPageData.currentPage = val;\n        this.loadFavouriteFolderInfoList();\n      },\n      // 获取登录用户信息\n      getLoginUserInfo() {\n        let userId = this.$cookies.get('user_id');\n        if (userId) {\n          this.folderPageData.user_id = userId;\n\n        } else {\n          this.$message.info(this.$t('sessionExpired'));\n          this.$router.push('/login');\n        }\n      },\n      // 加载用户收藏夹信息\n      loadFavouriteFolderInfoList() {\n        let out_this = this;\n        this.$axios.post('/favourite/getFolders', this.folderPageData).then(response => {\n          let resData = response.data;\n          //console.log(resData);\n          if (resData.code === 7015) {\n            out_this.folderPageData.currentPage = resData.data.currentPage;\n            out_this.folderPageData.pageSize = resData.data.pageSize;\n            out_this.folderPageData.total = resData.data.total;\n            out_this.folderTableData = resData.data.pageList;\n          } else {\n            out_this.$message.error(resData.code + '~~~~' + out_this.$t('serverError'));\n          }\n        });\n      },\n      // 判断时间距离现在已经过去多久\n      getTimePass(timeStamp) {\n        let now = new Date().getTime();\n        let gap = now - timeStamp;\n        let result;\n        // 计算间隔了多少秒\n        let gapTime = parseInt(gap / 1000);\n        if (gapTime < 60)\n          result = this.$t('withinOneMinute');\n        // 计算间隔了多少分钟\n        gapTime = parseInt(gapTime / 60);\n        if (!result && gapTime < 60)\n          result = gapTime +  this.$t('minutesAgo');\n        // 计算间隔了多少小时\n        let hours = parseInt(gapTime / 60);\n        let min = gapTime % 60;\n        if (!result && hours < 24)\n          result = hours + this.$t('hour') + min +this.$t('minutesAgo');\n        // 计算间隔了多少天\n        let days = parseInt(hours / 24);\n        hours = hours % 24;\n        if (!result && days < 30)\n          result = days + this.$t('day') + hours + this.$t('hoursAgo');\n        // 计算年\n        let years = new Date().getFullYear() - new Date(timeStamp).getFullYear();\n        // 计算月\n        let month = new Date().getMonth() - new Date(timeStamp).getMonth();\n        month = Math.abs(month);\n        if (!result && years > 0 && month > 0)\n          result = years + this.$t('year') + month + this.$t('monthsAgo');\n        if (!result && years > 0 && month === 0)\n          result = years + this.$t('yearsAgo');\n        if (!result && years === 0 && month > 0)\n          result = month + this.$t('monthsAgo');\n        return result;\n      },\n      // 格式化时间\n      timeFormat(timeStamp) {\n        let date = new Date(timeStamp);\n\n        let year = date.getFullYear(),\n          month = date.getMonth() + 1,//月份是从0开始的\n          day = date.getDate(),\n          hour = date.getHours(),\n          min = date.getMinutes(),\n          sec = date.getSeconds();\n\n        let formatTime = year + '-' +\n          (month < 10 ? '0' + month : month) + '-' +\n          (day < 10 ? '0' + day : day) + ' ' +\n          (hour < 10 ? '0' + hour : hour) + ':' +\n          (min < 10 ? '0' + min : min) + ':' +\n          (sec < 10 ? '0' + sec : sec);\n\n        return formatTime;\n      },\n      // 删除收藏夹\n      deleteFavouriteFolders() {\n        console.log(this.folderSelectList);\n        let out_this = this;\n        this.$axios.post('/favourite/deleteFolders', this.folderSelectList).then(response => {\n          let resData = response.data;\n          //console.log(resData);\n          if (resData.code === 7016) {\n            out_this.$message({\n              message: resData.code + ' ~~~~  ' + out_this.$t('deleteSuccess'),\n              type: 'success',\n              center: true,\n              duration: 2000\n            });\n\n            // 重新加载收藏夹list\n            out_this.folderPageData.currentPage = -1;\n            out_this.folderPageData.total = -1;\n            out_this.loadFavouriteFolderInfoList();\n          } else {\n            out_this.$message.error(resData.code + ' ~~~~ ' + out_this.$t('serverError'));\n          }\n        });\n\n        this.cancelSelect();\n      },\n      // 取消选择\n      cancelSelect() {\n        this.folderSelectList = [];\n        this.$refs.multipleTable.clearSelection();\n      },\n      // 添加收藏夹\n      newFolderHandler() {\n        this.dialogFormVisible = false;\n        // 获取用户id\n        let userId = this.$cookies.get('user_id');\n        if (!userId) {\n          this.$message.info(this.$t('sessionExpired'));\n          return 0;\n        }\n        if (!this.newFolderForm.folder_name) {\n          this.$message.info(this.$t('favouriteFolderManager.rule1'));\n          return 0;\n        }\n        this.newFolderForm.user_id = userId;\n\n        // 添加收藏夹请求\n        let out_this = this;\n        this.$axios.post('/favourite/addFolder', this.newFolderForm).then(response => {\n          let resData = response.data;\n          if (resData.code == 7006) { // 添加成功\n            out_this.$message({\n              message: resData.code + ' ~~~~ ' + out_this.$t('operationSuccess'),\n              type: 'success',\n              duration: 2000\n            });\n            // 重新加载收藏夹列表\n            out_this.folderPageData.currentPage = -1;\n            out_this.folderPageData.total = -1;\n            out_this.loadFavouriteFolderInfoList();\n          } else {\n            out_this.$message.error(resData.code + ' ~~~~ ' + out_this.$t('serverError'));\n          }\n        });\n\n        // 重置表单数据\n        this.newFolderForm.folder_name = '';\n      },\n    }\n  }\n</script>\n\n<style scoped>\n\n  #div_favourite_folder_box {\n    width: 100%;\n  }\n\n  .div-operation-button {\n    text-align: right;\n    position: relative;\n    width: 100%;\n    margin-top: -32px;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/user/favourite/FavouriteFolderManager.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"div_favourite_folder_box\"}},[(this.folderTableData.length === 0)?_c('el-empty',{staticStyle:{\"margin\":\"20% auto\"},attrs:{\"description\":\"啥也没有哇~~~\"}}):_c('div',{staticStyle:{\"margin\":\"3%\",\"width\":\"94%\"}},[_c('div',[_c('h3',[_vm._v(_vm._s(_vm.$t('favouriteFolderManager.title')))]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(_vm._s(_vm.$t('favouriteFolderManager.newFolder')))]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"center\":\"\",\"title\":(\"\" + (_vm.$t('favouriteFolderManager.newFolder'))),\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.newFolderForm}},[_c('el-form-item',{attrs:{\"label\":(\"\" + (_vm.$t('favouriteFolderManager.albumName')))}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.newFolderForm.folder_name),callback:function ($$v) {_vm.$set(_vm.newFolderForm, \"folder_name\", $$v)},expression:\"newFolderForm.folder_name\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(_vm._s(_vm.$t('cancelButton')))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.newFolderHandler}},[_vm._v(_vm._s(_vm.$t('confirmButton')))])],1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.folderSelectList.length !== 0),expression:\"this.folderSelectList.length !== 0\"}],staticClass:\"div-operation-button\"},[_c('el-popover',{attrs:{\"placement\":\"top\",\"width\":\"200\",\"trigger\":\"click\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('p',[_vm._v(_vm._s(_vm.$t('favouriteFolderManager.notice')))]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('cancelButton'))+\"\\n          \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":[_vm.deleteFavouriteFolders,function($event){_vm.visible = false}]}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('confirmButton'))+\"\\n          \")])],1),_vm._v(\" \"),_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"size\":\"small\",\"plain\":\"\"},slot:\"reference\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('delete'))+\"\\n        \")])],1),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"plain\":\"\"},on:{\"click\":_vm.cancelSelect}},[_vm._v(_vm._s(_vm.$t('cancelButton')))])],1),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.folderTableData,\"tooltip-effect\":\"dark\",\"default-sort\":{prop: 'time', order: 'descending'}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":(\"\" + (_vm.$t('date'))),\"sortable\":\"\",\"min-width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(_vm.timeFormat(scope.row.time))+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":(\"\" + (_vm.$t('favouriteFolderManager.duration'))),\"sortable\":\"\",\"min-width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(_vm.getTimePass(scope.row.time))+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"resourceNumber\",\"label\":(\"\" + (_vm.$t('favouriteFolderManager.favouriteAmount'))),\"sortable\":\"\",\"min-width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"folder_name\",\"label\":(\"\" + (_vm.$t('favouriteFolderManager.albumName'))),\"min-width\":\"320\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"block\",attrs:{\"align\":\"center\"}},[_c('br'),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.folderPageData.currentPage,\"page-size\":_vm.folderPageData.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.folderPageData.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3276f794\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/favourite/FavouriteFolderManager.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3276f794\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FavouriteFolderManager.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FavouriteFolderManager.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FavouriteFolderManager.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3276f794\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FavouriteFolderManager.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3276f794\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/favourite/FavouriteFolderManager.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}