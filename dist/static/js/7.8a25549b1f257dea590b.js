webpackJsonp([7],{N8Cs:function(t,s){},t92Z:function(t,s){},xRji:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("ogzt"),o=e("uBSP"),i={name:"UploadRank",data:function(){return{rankList:[],focusIdList:[],focusForm:{userId:"",focusUserId:""}}},created:function(){var t=this;this.$axios.get("/rank/upload").then(function(s){var e=s.data;4025==e.code&&(t.rankList=e.data)});var s=this.$cookies.get("user_id");s&&this.getUserFocusInfoList(s)},methods:{focusEvent:function(t){this.getUserLoginInfo()&&(this.focusForm.userId!=t?this.isFocus(t)?this.deleteFocus(t):this.addFocus(t):this.$message.warning("不能自己关注自己喔~~~"))},deleteFocus:function(t){this.focusForm.focusUserId=t;var s=this;this.$axios.post("/focus/cancel",this.focusForm).then(function(t){var e=t.data;console.log(e),6004==e.code?(s.$message({message:e.code+"~~~~"+e.message,type:"success",duration:2e3}),s.deleteFocusListItem(e.data)):s.$message.error(e.code+"~~~~"+e.message)})},addFocus:function(t){this.focusForm.focusUserId=t;var s=this;this.$axios.post("/focus/add",this.focusForm).then(function(t){var e=t.data;console.log(e),6001==e.code?(s.$message({message:e.code+"~~~~"+e.message,type:"success",duration:2e3}),s.focusIdList.push(e.data.focus_uid)):s.$message.error(e.code+"~~~~"+e.message)})},getUserLoginInfo:function(){var t=this.$cookies.get("user_id");return t?(this.focusForm.userId=t,!0):(this.$message.info("您还没有登录~~~"),this.$router.push("/login"),!1)},getUserFocusInfoList:function(t){var s=this;this.$axios.get("/focus/getList/"+t).then(function(t){var e=t.data;6003===e.code?s.setFocusIdList(e.data):s.$message.error(e.code+"~~~~"+e.message)})},setFocusIdList:function(t){for(var s=0;s<t.length;++s)this.focusIdList.push(t[s].focus_uid)},isFocus:function(t){for(var s=0;s<this.focusIdList.length;++s)if(this.focusIdList[s]==t)return!0;return!1},deleteFocusListItem:function(t){for(var s=0;s<this.focusIdList.length;++s)if(this.focusIdList[s]==t)return void this.focusIdList.splice(s,1)},chooseButton:function(t){return console.log("here --- "+this.$t("uploadRank.cancel")),this.isFocus(t)?this.$t("uploadRank.cancel"):this.$t("uploadRank.focus")}}},n={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"transaction"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-xl-8 col-lg-8"},[e("div",{staticClass:"section-title text-center"},[e("h2",[t._v(t._s(t.$t("uploadRank.title1"))+" "),e("span",[t._v(" "+t._s(t.$t("uploadRank.title2")))]),t._v(" "+t._s(t.$t("uploadRank.title3")))]),t._v(" "),e("p",[t._v(t._s(t.$t("uploadRank.description1")))])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-12 col-lg-12"},[e("div",{staticClass:"transaction-area"},[e("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"deposit",role:"tabpanel","aria-labelledby":"home-tab"}},[e("table",{staticClass:"table"},[e("thead",{attrs:{align:"center"}},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("uploadRank.ranking")))]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("uploadRank.user")))]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("uploadRank.contributionAmount")))]),t._v(" "),e("th",{attrs:{scope:"col"}})])]),t._v(" "),e("tbody",t._l(t.rankList,function(s,a){return e("tr",{attrs:{align:"center"}},[e("td",[t._v(t._s(a+1))]),t._v(" "),e("th",{staticClass:"d-flex",attrs:{scope:"row"}},[e("div",{staticClass:"user-img"},[s.headIcon?e("img",{attrs:{src:s.headIcon,alt:""}}):e("img",{attrs:{src:"/static/ico/headIcon.png",alt:""}})]),t._v(" "),e("span",[t._v(t._s(s.username))])]),t._v(" "),e("td",[t._v(t._s(s.resourceNumbers))]),t._v(" "),e("td",[e("el-button",{attrs:{type:t.isFocus(s.user_id)?"danger":"info",round:""},on:{click:function(e){return t.focusEvent(s.user_id)}}},[e("i",{staticClass:"el-icon-plus"}),t._v("\n                        "+t._s(t.chooseButton(s.user_id))+"\n                      ")])],1)])}),0)])])])])])])])])])},staticRenderFns:[]};var c=e("VU/8")(i,n,!1,function(t){e("t92Z")},"data-v-25fafa15",null).exports,r=e("dPkO"),u={name:"UploadRankPage",components:{Footer:a.a,Header:o.a,UploadRank:c,PageTitle:r.a}},d={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("Header"),this._v(" "),s("PageTitle"),this._v(" "),s("UploadRank"),this._v(" "),s("Footer")],1)},staticRenderFns:[]};var l=e("VU/8")(u,d,!1,function(t){e("N8Cs")},"data-v-e076efb8",null);s.default=l.exports}});
//# sourceMappingURL=7.8a25549b1f257dea590b.js.map