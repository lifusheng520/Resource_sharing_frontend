webpackJsonp([14],{ZbW0:function(e,t){},cGpI:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"BrowseRecordManager",data:function(){return{browseRecordPageData:{user_id:"",currentPage:-1,pageSize:10,total:-1},browseRecordTableList:[],browseRecordSelection:[]}},created:function(){var e=this.$cookies.get("user_id");e?this.browseRecordPageData.user_id=e:(this.$message.info(this.$t("sessionExpired")),this.$router.push("/login")),this.loadBrowseRecord()},methods:{handleSizeChange:function(e){this.browseRecordPageData.currentPage=-1,this.browseRecordPageData.total=-1,this.browseRecordPageData.pageSize=e,this.loadBrowseRecord()},handleCurrentChange:function(e){this.browseRecordPageData.currentPage=e,this.loadBrowseRecord()},checkAllHandler:function(){this.browseRecordSelection=[];for(var e=this.browseRecordTableList,t=0;t<e.length;++t)this.browseRecordSelection.push(e[t].id);console.log(this.browseRecordSelection)},cancelSelection:function(){this.browseRecordSelection=[]},loadBrowseRecord:function(){var e=this;this.$axios.post("/browse/getList",this.browseRecordPageData).then(function(t){var o=t.data;console.log(o),9001===o.code?(e.browseRecordPageData.currentPage=o.data.currentPage,e.browseRecordPageData.pageSize=o.data.pageSize,e.browseRecordPageData.total=o.data.total,e.browseRecordTableList=o.data.pageList):e.$message.error(o.code+" ~~~~ "+e.$t("serverError"))})},deleteBrowseRecord:function(){var e=this;this.$axios.post("/browse/delete",this.browseRecordSelection).then(function(t){var o=t.data;console.log(o),9002===o.code?(e.$message({message:o.code+" ~~~~ "+e.$t("operationSuccess"),type:"success",duration:2e3}),e.browseRecordPageData.currentPage=-1,e.browseRecordPageData.total=-1,e.loadBrowseRecord()):e.$message.error(o.code+" ~~~~ "+e.$t("serverError"))}),this.cancelSelection()},goResourceDetailPage:function(e){console.log(e),this.$cookies.set("resource_id",e),this.$router.push("/detail")}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{width:"100%"}},[o("div",{staticStyle:{margin:"3%",width:"94%"}},[o("h3",[e._v(e._s(e.$t("browseRecordManager.title")))]),e._v(" "),o("div",{staticStyle:{width:"100%"}},[o("div",{staticStyle:{height:"50px"}},[o("div",[o("el-button",{directives:[{name:"show",rawName:"v-show",value:0!==this.browseRecordSelection.length,expression:"this.browseRecordSelection.length !== 0"}],attrs:{type:"danger",size:"small",round:""},on:{click:e.checkAllHandler}},[e._v("\n            "+e._s(e.$t("browseRecordManager.selectAll"))+"\n          ")]),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:0!==this.browseRecordSelection.length,expression:"this.browseRecordSelection.length !== 0"}],attrs:{type:"danger",size:"small",round:""},on:{click:e.cancelSelection}},[e._v("\n            "+e._s(e.$t("browseRecordManager.cancel"))+"\n          ")]),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:0!==this.browseRecordSelection.length,expression:"this.browseRecordSelection.length !== 0"}],attrs:{type:"danger",size:"small",round:""},on:{click:e.deleteBrowseRecord}},[e._v("\n            "+e._s(e.$t("browseRecordManager.delete"))+"\n          ")])],1)]),e._v(" "),o("el-row",{staticStyle:{margin:"20px 0px","text-align":"center"},attrs:{gutter:10}},e._l(e.browseRecordTableList,function(t,r){return o("el-col",{key:r,attrs:{id:"el-col-box",span:12}},[o("el-card",{staticClass:"el-card-container"},[o("div",{staticClass:"div-browse-checkbox"},[o("div",[o("el-checkbox",{attrs:{label:t.id,sty:""},model:{value:e.browseRecordSelection,callback:function(t){e.browseRecordSelection=t},expression:"browseRecordSelection"}},[e._v("Â ")])],1),e._v(" "),o("div",[o("p",{staticStyle:{"font-size":"small","text-align":"right"}},[e._v(e._s(t.time))])])]),e._v(" "),o("div",{staticClass:"browse-card-div",on:{click:function(o){return e.goResourceDetailPage(t.resource_id)}}},[o("el-row",{staticStyle:{"margin-top":"10px"}},[o("el-col",{attrs:{span:8}},[o("el-col",[o("div",{staticClass:"div-head-icon"},[t.headIcon?o("img",{attrs:{src:t.headIcon,alt:""}}):o("img",{attrs:{src:"static/ico/none.png",alt:""}})]),e._v(" "),o("p",{staticStyle:{"font-size":"medium","text-align":"center"}},[e._v(e._s(t.name))])])],1),e._v(" "),o("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"-10px"},attrs:{span:16}},[o("div",{staticStyle:{"text-align":"center",width:"100%"}},[e._v("\n                    "+e._s(t.origin_name)+"\n                  ")])])],1)],1),e._v(" "),o("div")])],1)}),1)],1),e._v(" "),o("div",{staticClass:"block",attrs:{align:"center"}},[o("br"),e._v(" "),o("el-pagination",{attrs:{background:"","current-page":e.browseRecordPageData.currentPage,"page-size":e.browseRecordPageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.browseRecordPageData.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},staticRenderFns:[]};var s=o("VU/8")(r,a,!1,function(e){o("ZbW0")},"data-v-95abee1e",null);t.default=s.exports}});
//# sourceMappingURL=14.867367f3218a86b01aca.js.map