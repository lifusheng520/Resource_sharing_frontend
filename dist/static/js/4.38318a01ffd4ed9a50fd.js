webpackJsonp([4],{"05f3":function(e,r){},ErVn:function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s("uBSP"),o=s("ogzt"),a={name:"ForgetPassword",components:{PageTitle:s("dPkO").a},data:function(){return{ruleForm:{username:"",password:"",checkPass:"",verifyCode:""},rules:{username:[{required:!0,message:this.$t("forgetPassword.rule1"),trigger:"blur"},{min:5,max:10,message:this.$t("forgetPassword.rule2"),trigger:"blur"}],password:[{required:!0,message:this.$t("forgetPassword.rule3"),trigger:"blur"},{min:6,max:20,message:this.$t("forgetPassword.rule4"),trigger:"blur"}],checkPass:[{required:!0,message:this.$t("forgetPassword.rule5"),trigger:"blur"},{min:6,max:20,message:this.$t("forgetPassword.rule4"),trigger:"blur"}],verifyCode:[{required:!0,message:this.$t("forgetPassword.rule6"),trigger:"blur"},{min:6,max:6,message:this.$t("forgetPassword.rule7"),trigger:"blur"}]},needWaitting:!1,sendEmailButtionMessage:this.$t("forgetPassword.sendCode")}},methods:{submitForm:function(e){this.validateForm()&&this.$axios.post("/user/updatePass",this.ruleForm).then(function(e){var r=e.data;console.log(r)})},resetForm:function(e){this.$refs[e].resetFields()},validateForm:function(){var e=this.ruleForm.username.length,r=this.ruleForm.password.length,s=this.ruleForm.verifyCode.length;return e&&r&&s?e>=5&&e<=10&&(r>=6&&r<=20&&(this.ruleForm.password===this.ruleForm.checkPass||(this.$message({message:this.$t("forgetPassword.passwordMismatch"),type:"error"}),!1))):(this.$message.error(this.$t("forgetPassword.invalidForm")),!1)},sendEmail:function(){var e=this;if(this.ruleForm.username){var r=this;this.needWaitting=!0;var s=60,t=window.setInterval(function(){r.sendEmailButtionMessage=s+r.$t("forgetPassword.sending"),s<=0&&(r.needWaitting=!1,r.sendEmailButtionMessage=r.$t("forgetPassword.sendCode"),window.clearInterval(t)),s--},1e3);this.$axios.get("/user/authEmail/"+this.ruleForm.username).then(function(s){var t=s.data;console.log(t),4006===t.code?e.$message({message:t.code+"~~~~"+t.message+r.$t("forgetPassword.checkEmail"),type:"success",duration:3e3}):(e.$message.error(t.code+"~~~"+t.message),e.needWaitting=!1)})}else this.$message.error(this.$t("forgetPassword.rule1"))}}},i={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",[s("PageTitle"),e._v(" "),s("div",{staticClass:"contact login"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-xl-8 col-lg-8"},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{"text-align":"center"},attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:""+e.$t("forgetPassword.account"),prop:"username"}},[s("el-input",{attrs:{type:"text"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:""+e.$t("forgetPassword.newPassword"),prop:"password"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:""+e.$t("forgetPassword.confirmPassword"),prop:"checkPass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass",r)},expression:"ruleForm.checkPass"}})],1),e._v(" "),s("el-form-item",{attrs:{label:""+e.$t("forgetPassword.varificationCode"),prop:"verifyCode"}},[s("el-input",{attrs:{type:"text"},model:{value:e.ruleForm.verifyCode,callback:function(r){e.$set(e.ruleForm,"verifyCode",r)},expression:"ruleForm.verifyCode"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary",loading:this.needWaitting,round:""},on:{click:e.sendEmail}},[e._v("\n                "+e._s(this.sendEmailButtionMessage)+"\n              ")])],1),e._v(" "),s("br"),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v(e._s(e.$t("forgetPassword.confirm")))]),e._v(" "),s("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v(e._s(e.$t("forgetPassword.reset")))])],1)],1)],1)])])])],1)},staticRenderFns:[]};var n=s("VU/8")(a,i,!1,function(e){s("05f3")},"data-v-5c67730f",null).exports,l={name:"ForgetPasswordPage",components:{Header:t.a,ForgetPassword:n,Footer:o.a}},u={render:function(){var e=this.$createElement,r=this._self._c||e;return r("div",[r("Header"),this._v(" "),r("ForgetPassword"),this._v(" "),r("Footer")],1)},staticRenderFns:[]};var m=s("VU/8")(l,u,!1,function(e){s("vLxg")},"data-v-fdf05e4a",null);r.default=m.exports},vLxg:function(e,r){}});
//# sourceMappingURL=4.38318a01ffd4ed9a50fd.js.map