{"version":3,"sources":["webpack:///src/components/user/admin/UserManager.vue","webpack:///./src/components/user/admin/UserManager.vue?314c","webpack:///./src/components/user/admin/UserManager.vue"],"names":["UserManager","name","data","userPageData","user_id","currentPage","pageSize","total","userTableList","tableSelectList","addUserForm","username","password","rules","required","message","this","$t","trigger","min","max","dialogFormVisible","deleteButtonVisible","created","getAdminLoginInfo","loadUserAccountInfoList","methods","handleSizeChange","val","handleCurrentChange","id","$cookies","get","$message","info","out_this","$axios","post","then","response","resData","console","log","code","pageList","error","handleSelectionChange","i","$refs","multipleTable","selection","length","flag","j","roles","splice","cancelSelectionHandler","clearSelection","addUserHandler","invalidForm","type","duration","replace","includes","nameLen","passLen","addLockOnUserAccount","clearRepeatedHandler","center","lockIds","enabled","unlockUserAccount","unlockIds","list","result","push","admin_UserManager","render","_vm","_h","$createElement","_c","_self","attrs","staticStyle","margin","description","_v","_s","width","icon","size","on","click","$event","directives","rawName","value","expression","round","title","visible","update:visible","model","label","prop","autocomplete","callback","$$v","$set","show-password","staticClass","slot","ref","default-sort","order","selection-change","sortable","min-width","scopedSlots","_u","key","fn","scope","row","_l","item","index","align","background","current-page","page-size","layout","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.cd2549abef9119497ce2.js","sourcesContent":["<template>\n  <div id=\"div_user_manager_box\">\n    <el-empty v-if=\"userTableList.length === 0\" style=\"margin: 20% auto\" :description=\"`${$t('userManager.withoutUserInfo')}`\"></el-empty>\n    <div v-else>\n\n      <h3>{{$t('userManager.title')}}</h3>\n\n      <div style=\"width: 100%;\">\n\n        <div style=\"width: 100%;\">\n          <el-button @click=\"dialogFormVisible = true\" icon=\"el-icon-plus\" type=\"primary\" size=\"small\">\n            {{$t('userManager.addUser')}}\n          </el-button>\n          <el-button v-show=\"tableSelectList.length !== 0\" @click=\"addLockOnUserAccount\" type=\"danger\" size=\"small\"\n                     round>\n            {{$t('userManager.lockAccount')}}\n          </el-button>\n          <el-button v-show=\"tableSelectList.length !== 0\" @click=\"unlockUserAccount\" type=\"success\" size=\"small\"\n                     round>\n            {{$t('userManager.activateAccount')}}\n          </el-button>\n\n          <el-dialog :title=\"`${$t('userManager.addUserAccount')}`\" width=\"500px\" center :visible.sync=\"dialogFormVisible\">\n\n            <el-form :model=\"addUserForm\" :rules=\"rules\">\n\n              <el-form-item :label=\"`${$t('userManager.username')}`\" prop=\"username\">\n                <el-input v-model=\"addUserForm.username\" autocomplete=\"off\"></el-input>\n              </el-form-item>\n\n              <el-form-item :label=\"`${$t('userManager.password')}`\" prop=\"password\">\n                <el-input v-model=\"addUserForm.password\" type=\"password\" show-password autocomplete=\"off\"></el-input>\n              </el-form-item>\n            </el-form>\n\n            <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"dialogFormVisible = false\">{{$t('userManager.cancel')}}</el-button>\n              <el-button type=\"primary\" @click=\"addUserHandler\">{{$t('userManager.confirmation')}}</el-button>\n            </div>\n          </el-dialog>\n        </div>\n\n        <!--        表格-->\n        <el-table :data=\"userTableList\" ref=\"multipleTable\"\n                  style=\"width: 100%;\" @selection-change=\"handleSelectionChange\"\n                  :default-sort=\"{prop: 'create_time', order: 'descending'}\">\n\n          <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n          <el-table-column prop=\"create_time\" :label=\"`${$t('userManager.registerDate')}`\" sortable min-width=\"150\"></el-table-column>\n          <el-table-column prop=\"username\" :label=\"`${$t('userManager.account')}`\" min-width=\"110\"></el-table-column>\n          <el-table-column prop=\"name\" :label=\"`${$t('userManager.alias')}`\" min-width=\"100\"></el-table-column>\n          <el-table-column prop=\"enabled\" :label=\"`${$t('userManager.state')}`\" min-width=\"100\">\n            <template slot-scope=\"scope\">\n              <el-tag v-if=\"scope.row.enabled === 1\" type=\"success\">\n                {{$t('userManager.using')}}\n              </el-tag>\n              <el-tag v-else type=\"danger\">\n                <i class=\"fa fa-lock\"></i>{{$t('userManager.locked')}}\n              </el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"email\" :label=\"`${$t('userManager.email')}`\" min-width=\"150\"></el-table-column>\n\n          <el-table-column prop=\"roles\" :label=\"`${$t('userManager.privilege')}`\" min-width=\"100\">\n            <template slot-scope=\"scope\">\n              <el-tag v-for=\"(item, index) in scope.row.roles\" :key=\"index\" type=\"danger\">\n                {{item}}\n              </el-tag>\n            </template>\n          </el-table-column>\n\n        </el-table>\n      </div>\n\n      <div class=\"block\" align=\"center\">\n        <br>\n        <el-pagination\n          background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n          :current-page=\"userPageData.currentPage\" :page-size=\"userPageData.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\" :total=\"userPageData.total\">\n        </el-pagination>\n      </div>\n\n    </div>\n  </div>\n\n</template>\n\n<script>\n  export default {\n    name: \"UserManager\",\n    data() {\n      return {\n        // 用户列表分页数据\n        userPageData: {\n          user_id: '',\n          currentPage: -1,\n          pageSize: 10,\n          total: -1,\n        },\n        // 用户表格list\n        userTableList: [],\n        // 选中的内容list\n        tableSelectList: [],\n\n        // 添加用户表单\n        addUserForm: {\n          username: '',\n          password: '',\n        },\n        rules: {\n          username: [\n            {required: true, message: this.$t('userManager.rule1'), trigger: 'blur'},\n            {min: 5, max: 10, message: this.$t('userManager.rule2'), trigger: 'blur'}\n          ],\n          password: [\n            {required: true, message: this.$t('userManager.rule3'), trigger: 'blur'},\n            {min: 6, max: 20, message: this.$t('userManager.rule4'), trigger: 'blur'}\n          ],\n        },\n        dialogFormVisible: false,\n        deleteButtonVisible: false,\n      }\n    },\n    created() {\n      // 获取登录的管理员信息\n      this.getAdminLoginInfo();\n\n      // 加载用户的账号信息\n      this.loadUserAccountInfoList();\n\n    },\n    methods: {\n      // 每页的大小改变事件\n      handleSizeChange(val) {\n        this.userPageData.pageSize = val;\n        this.loadUserAccountInfoList();\n      },\n      // 翻页事件\n      handleCurrentChange(val) {\n        this.userPageData.currentPage = val;\n        this.loadUserAccountInfoList();\n      },\n      // 获取登录的管理员信息\n      getAdminLoginInfo() {\n        let id = this.$cookies.get('user_id');\n        if (id) {\n          this.userPageData.user_id = id;\n          return id;\n        } else {\n          this.$message.info(this.$t('sessionExpired'));\n          return false;\n        }\n      },\n      // 加载用户的账号信息\n      loadUserAccountInfoList() {\n        let out_this = this;\n        this.$axios.post('/admin/getUserList', this.userPageData).then(response => {\n          let resData = response.data;\n          console.log(resData);\n          if (resData.code === 8001) {\n            out_this.userPageData.currentPage = resData.data.currentPage;\n            out_this.userPageData.pageSize = resData.data.pageSize;\n            out_this.userPageData.total = resData.data.total;\n            out_this.userTableList = resData.data.pageList;\n          } else {\n            out_this.$message.error(resData.code + '~~~~' + out_this.$t('serverError'));\n          }\n        });\n      },\n\n      // 选择发生变化时的事件\n      handleSelectionChange() {\n        // 遍历选择列表，去除管理员权限选项\n        for (let i = 0; i < this.$refs.multipleTable.selection.length; ++i) {\n          let flag = false;\n          for (let j = 0; j < this.$refs.multipleTable.selection[i].roles.length; ++j)\n            if (this.$refs.multipleTable.selection[i].roles[j] === 'admin') {\n              flag = true;\n              break;\n            }\n\n          if (flag) {\n            this.$refs.multipleTable.selection.splice(i, 1);\n            this.$message.info(this.$t('userManager.insufficientPrivilege'));\n          }\n        }\n        this.tableSelectList = this.$refs.multipleTable.selection;\n      },\n      //取消选择\n      cancelSelectionHandler() {\n        this.$refs.multipleTable.clearSelection();\n        this.tableSelectList = [];\n      },\n\n      // 添加用户处理函数\n      addUserHandler() {\n        // 校验表单\n        let val = this.invalidForm();\n        if (!val)\n          return;\n\n        // 发起注册请求\n        let out_this = this;\n        this.$axios.post('/auth/register', this.addUserForm).then(response => {\n          let resData = response.data;\n          console.log(resData);\n          if (resData.code === 1003) {\n            out_this.$message({\n              message: resData.code + '~~~~' + out_this.$t('userManager.registerSuccess'),\n              type: 'success',\n              duration: 2000\n            });\n\n            // 重新加载账号信息list\n            out_this.loadUserAccountInfoList();\n          } else {\n            out_this.$message.error(resData.code + '~~~~' + out_this.$t('userManager.registerFailed'));\n          }\n        });\n\n        this.cancelSelectionHandler();\n        this.dialogFormVisible = false\n      },\n      // 判断表单是否符合要求\n      invalidForm() {\n        let username = this.addUserForm.username;\n        let password = this.addUserForm.password;\n        if (username.replace(/\\s*/g, '').length === 0) {\n          this.$message.error(this.$t('userManager.rule5'));\n          return false;\n        }\n\n        if (username.includes(' ')) {\n          this.$message.error(this.$t('userManager.rule6'));\n          return false;\n        }\n\n        if (password.replace(/\\s*/g, '').length === 0) {\n          this.$message.error(this.$t('userManager.rule7'));\n          return false;\n        }\n\n        if (password.includes(' ')) {\n          this.$message.error(this.$t('userManager.rule8'));\n          return false;\n        }\n\n        let nameLen = username.length;\n        let passLen = password.length;\n        if (!(nameLen >= 5 && nameLen <= 10))\n          return false;\n        if (!(passLen >= 6 && passLen <= 20))\n          return false;\n\n        return true;\n      },\n\n      // 冻结账号\n      addLockOnUserAccount() {\n        this.tableSelectList = this.clearRepeatedHandler(this.tableSelectList, 0);\n        if(this.tableSelectList.length ===0){\n          this.$message.info(this.$t('userManager.invalidSelection'));\n          return;\n        }\n\n        let out_this = this;\n        this.$axios.post('/admin/lockAccounts', this.tableSelectList).then(response => {\n          let resData = response.data;\n          console.log(resData);\n          if (resData.code === 8002) {\n            out_this.$message({\n              message: resData.code + '~~~~  ' + out_this.$t('operationSuccess'),\n              type: 'success',\n              center: true,\n              duration: 2000\n            });\n\n            // 根据后端返回的被冻结账号id，更新表格视图\n            let lockIds = resData.data;\n            for (let i = 0; i < lockIds.length; ++i)\n              for (let j = 0; j < out_this.userTableList.length; ++j)\n                if (lockIds[i] === out_this.userTableList[j].id)\n                  out_this.userTableList[j].enabled = 0;\n\n          } else {\n            out_this.$message.error(resData.code + '~~~~' + out_this.$t('serverError'));\n          }\n        });\n\n        this.cancelSelectionHandler();\n      },\n      // 解禁账号\n      unlockUserAccount() {\n        this.tableSelectList = this.clearRepeatedHandler(this.tableSelectList, 1);\n        if(this.tableSelectList.length ===0){\n          this.$message.info(this.$t('userManager.invalidSelection'));\n          return;\n        }\n\n        let out_this = this;\n        this.$axios.post('/admin/unlockAccounts', this.tableSelectList).then(response => {\n          let resData = response.data;\n          console.log(resData);\n          if (resData.code === 8004) {\n            out_this.$message({\n              message: resData.code + '~~~~  ' + out_this.$t('operationSuccess'),\n              type: 'success',\n              center: true,\n              duration: 2000\n            });\n\n            // 根据后端返回的激活账号id，更新表格视图\n            let unlockIds = resData.data;\n            for (let i = 0; i < unlockIds.length; ++i)\n              for (let j = 0; j < out_this.userTableList.length; ++j)\n                if (unlockIds[i] === out_this.userTableList[j].id)\n                  out_this.userTableList[j].enabled = 1;\n\n          } else {\n            out_this.$message.error(resData.code + '~~~~' + out_this.$t('serverError'));\n          }\n        });\n\n        this.cancelSelectionHandler();\n      },\n      // 将重复处理的内容清除,将账号状态不为val的去除\n      clearRepeatedHandler(list, val) {\n        let result = [];\n        for (let i = 0; i < list.length; ++i)\n          if (list[i].enabled !== val)\n            result.push(list[i]);\n        return result;\n      },\n\n\n    }\n  }\n</script>\n\n<style scoped>\n\n  #div_user_manager_box {\n    width: 100%;\n  }\n\n  #div_user_manager_box > div {\n    margin: 3%;\n    width: 94%;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/user/admin/UserManager.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"div_user_manager_box\"}},[(_vm.userTableList.length === 0)?_c('el-empty',{staticStyle:{\"margin\":\"20% auto\"},attrs:{\"description\":(\"\" + (_vm.$t('userManager.withoutUserInfo')))}}):_c('div',[_c('h3',[_vm._v(_vm._s(_vm.$t('userManager.title')))]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('userManager.addUser'))+\"\\n        \")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tableSelectList.length !== 0),expression:\"tableSelectList.length !== 0\"}],attrs:{\"type\":\"danger\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.addLockOnUserAccount}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('userManager.lockAccount'))+\"\\n        \")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tableSelectList.length !== 0),expression:\"tableSelectList.length !== 0\"}],attrs:{\"type\":\"success\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.unlockUserAccount}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('userManager.activateAccount'))+\"\\n        \")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":(\"\" + (_vm.$t('userManager.addUserAccount'))),\"width\":\"500px\",\"center\":\"\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.addUserForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":(\"\" + (_vm.$t('userManager.username'))),\"prop\":\"username\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.addUserForm.username),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"username\", $$v)},expression:\"addUserForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":(\"\" + (_vm.$t('userManager.password'))),\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"show-password\":\"\",\"autocomplete\":\"off\"},model:{value:(_vm.addUserForm.password),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"password\", $$v)},expression:\"addUserForm.password\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(_vm._s(_vm.$t('userManager.cancel')))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUserHandler}},[_vm._v(_vm._s(_vm.$t('userManager.confirmation')))])],1)],1)],1),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userTableList,\"default-sort\":{prop: 'create_time', order: 'descending'}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"create_time\",\"label\":(\"\" + (_vm.$t('userManager.registerDate'))),\"sortable\":\"\",\"min-width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":(\"\" + (_vm.$t('userManager.account'))),\"min-width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":(\"\" + (_vm.$t('userManager.alias'))),\"min-width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"enabled\",\"label\":(\"\" + (_vm.$t('userManager.state'))),\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.enabled === 1)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('userManager.using'))+\"\\n            \")]):_c('el-tag',{attrs:{\"type\":\"danger\"}},[_c('i',{staticClass:\"fa fa-lock\"}),_vm._v(_vm._s(_vm.$t('userManager.locked'))+\"\\n            \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":(\"\" + (_vm.$t('userManager.email'))),\"min-width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roles\",\"label\":(\"\" + (_vm.$t('userManager.privilege'))),\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.roles),function(item,index){return _c('el-tag',{key:index,attrs:{\"type\":\"danger\"}},[_vm._v(\"\\n              \"+_vm._s(item)+\"\\n            \")])})}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"block\",attrs:{\"align\":\"center\"}},[_c('br'),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.userPageData.currentPage,\"page-size\":_vm.userPageData.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.userPageData.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-415eaef5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/admin/UserManager.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-415eaef5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserManager.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserManager.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserManager.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-415eaef5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserManager.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-415eaef5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/admin/UserManager.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}