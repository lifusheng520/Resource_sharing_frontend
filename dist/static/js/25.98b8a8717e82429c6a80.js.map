{"version":3,"sources":["webpack:///src/components/user/admin/CheckResource.vue","webpack:///./src/components/user/admin/CheckResource.vue?cd81","webpack:///./src/components/user/admin/CheckResource.vue"],"names":["CheckResource","name","data","checkResourcePageData","search","currentPage","pageSize","total","checkResourceTableList","selectCheckList","videoDialogVisible","videoHostURL","videoFileName","created","this","loadCheckResourceList","methods","handleSizeChange","val","handleCurrentChange","handleSelectionChange","selection","$refs","multipleTable","length","i","push","id","cancelSelection","clearSelection","out_this","$axios","post","then","response","resData","code","pageList","discipline","translateDisciplineToSelectedLanguage","$message","error","$t","loadCheckResourceBySearch","reloadCheckResourceList","passCheckHandler","console","log","deleteCheckResourceHandler","message","type","duration","playVideoHandler","resourceId","fileName","defaults","baseURL","closeDialogHandler","document","getElementById","pause","supportVideoType","content","admin_CheckResource","render","_vm","_h","$createElement","_c","_self","attrs","_v","_s","staticStyle","width","staticClass","directives","rawName","value","expression","size","round","on","click","ref","model","label-width","align","margin-right","placeholder","callback","$$v","$set","icon","circle","default-sort","prop","order","selection-change","label","sortable","min-width","scopedSlots","_u","key","fn","scope","row","state","fixed","slot","$event","origin_name","placement","title","trigger","description","background","current-page","page-size","layout","size-change","current-change","margin-top","visible","center","update:visible","close","position","top","left","height","controls","src","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/25.98b8a8717e82429c6a80.js","sourcesContent":["<template>\n  <div id=\"div_check_resource_box\">\n    <div>\n\n      <h3>{{$t('checkResource.title')}}</h3>\n\n      <div style=\"width: 100%;\">\n\n        <div class=\"div-top-check-resource-operation-box\">\n\n          <div class=\"div-check-resource-delete\">\n            <el-button v-show=\"this.selectCheckList.length !== 0\"\n                       @click=\"passCheckHandler\" type=\"danger\" size=\"small\" round>\n              {{$t('checkResource.passCheck')}}\n            </el-button>\n            <el-button v-show=\"this.selectCheckList.length !== 0\"\n                       @click=\"deleteCheckResourceHandler\" type=\"danger\" size=\"small\" round>\n              {{$t('checkResource.deleteResource')}}\n            </el-button>\n          </div>\n\n          <div class=\"div-check-resource-search-form\">\n            <!--      搜索框表单-->\n            <el-form :model=\"checkResourcePageData\" ref=\"searchForm\" label-width=\"100px\" style=\"width: 100%;\"\n                     align=\"right\">\n              <el-form-item>\n                <el-input v-model=\"checkResourcePageData.search\" :placeholder=\"`${$t('checkResource.placeholderPrompt')}`\"\n                          style=\"width: 60%; margin-right: 20px\"></el-input>\n                <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"loadCheckResourceBySearch\" circle></el-button>\n                <el-button type=\"info\" @click=\"reloadCheckResourceList\" circle><i class=\"el-icon-refresh\"></i>\n                </el-button>\n              </el-form-item>\n            </el-form>\n          </div>\n\n        </div>\n\n        <!--        表格-->\n        <el-table :data=\"checkResourceTableList\" ref=\"multipleTable\"\n                  style=\"width: 100%;\" @selection-change=\"handleSelectionChange\"\n                  :default-sort=\"{prop: 'upload_time', order: 'descending'}\">\n\n          <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n          <el-table-column prop=\"upload_time\" :label=\"`${$t('checkResource.uploadTime')}`\" sortable min-width=\"150\"></el-table-column>\n          <el-table-column :label=\"`${$t('checkResource.state')}`\" min-width=\"100\">\n            <template slot-scope=\"scope\">\n              <el-tag v-if=\"scope.row.state === '审批中'\" type=\"danger\">\n                <i class=\"el-icon-loading\"></i>{{$t('checkResource.waitting')}}\n              </el-tag>\n              <el-tag v-else type=\"info\">{{scope.row.state == '已通过审批'? $t('checkResource.passed'): $t('checkResource.waitting')}}</el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"origin_name\" :label=\"`${$t('checkResource.fileName')}`\" min-width=\"350\"></el-table-column>\n          <el-table-column prop=\"discipline\" :label=\"`${$t('checkResource.discipline')}`\" min-width=\"120\"></el-table-column>\n\n          <el-table-column label=\"\" min-width=\"120\" fixed=\"right\">\n            <template slot-scope=\"scope\">\n              <el-button v-if=\"supportVideoType(scope.row.type)\"\n                         v-on:click=\"playVideoHandler(scope.row.id, scope.row.origin_name)\" slot=\"reference\">\n                <i class=\"fa fa-play-circle fa-2x\"></i></el-button>\n              <span v-else>{{$t('checkResource.donotSupportPlay')}}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column :label=\"`${$t('checkResource.resourceIntroduction')}`\" min-width=\"100\">\n            <template slot-scope=\"scope\">\n              <el-popover\n                placement=\"bottom\"\n                :title=\"`${$t('checkResource.resourceIntroduction')}`\"\n                width=\"500\"\n                trigger=\"click\"\n                :content=\"scope.row.description\">\n                <el-button slot=\"reference\">{{$t('checkResource.introductionReview')}}</el-button>\n              </el-popover>\n            </template>\n          </el-table-column>\n\n        </el-table>\n      </div>\n\n      <div class=\"block\" align=\"center\">\n        <br>\n        <el-pagination\n          background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n          :current-page=\"checkResourcePageData.currentPage\" :page-size=\"checkResourcePageData.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\" :total=\"checkResourcePageData.total\">\n        </el-pagination>\n      </div>\n\n      <el-dialog :title=\"`${$t('checkResource.checking')}` + videoFileName\" :visible.sync=\"videoDialogVisible\"\n                 @close=\"closeDialogHandler\" width=\"90%\" center style=\"margin-top: -5%;\">\n        <div align=\"center\" style=\"width: 100%;\">\n          <video id=\"video-check-resource\" controls :src=\"videoHostURL\" style=\"position: absolute; top: 60px; left: 0; width: 100%; height: auto;\"/>\n        </div>\n      </el-dialog>\n\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"CheckResource\",\n    data() {\n      return {\n        checkResourcePageData: {\n          search: '',\n          currentPage: -1,\n          pageSize: 10,\n          total: -1,\n        },\n        // 表格数据\n        checkResourceTableList: [],\n        selectCheckList: [],\n\n        videoDialogVisible: false,\n        videoHostURL: '',\n        videoFileName: '',\n      }\n    },\n    created() {\n      // 加载需要审批的资源\n      this.loadCheckResourceList();\n    },\n    methods: {\n      // 每页的大小改变事件\n      handleSizeChange(val) {\n        this.checkResourcePageData.currentPage = -1;\n        this.checkResourcePageData.total = -1;\n        this.checkResourcePageData.pageSize = val;\n        this.loadCheckResourceList();\n      },\n      // 翻页事件\n      handleCurrentChange(val) {\n        this.checkResourcePageData.currentPage = val;\n        this.loadCheckResourceList();\n      },\n      // 选择发生变化时的事件\n      handleSelectionChange() {\n        // 遍历选择内容，将id存入selectCheckList中\n        let selection = this.$refs.multipleTable.selection;\n        if (selection.length !== 0)\n          for (let i = 0; i < selection.length; ++i)\n            this.selectCheckList.push(selection[i].id);\n        else\n          this.selectCheckList = [];\n      },\n      // 取消选择\n      cancelSelection() {\n        this.$refs.multipleTable.clearSelection();\n        this.selectCheckList = [];\n      },\n      //加载需要审批的资源\n      loadCheckResourceList() {\n        let out_this = this;\n        this.$axios.post('/platform/getCheckResourceList', this.checkResourcePageData).then(response => {\n          let resData = response.data;\n          \n          if (resData.code === 8008) {\n            out_this.checkResourcePageData.currentPage = resData.data.currentPage;\n            out_this.checkResourcePageData.pageSize = resData.data.pageSize;\n            out_this.checkResourcePageData.total = resData.data.total;\n            out_this.checkResourceTableList = resData.data.pageList;\n\n            for (let i = 0; i < out_this.checkResourceTableList.length; ++i)\n              out_this.checkResourceTableList[i].discipline = out_this.translateDisciplineToSelectedLanguage(out_this.checkResourceTableList[i].discipline);\n          } else {\n            out_this.$message.error(resData.code + '~~~~' + out_this.$t('checkResource.loadingError'));\n          }\n        });\n      },\n      // 搜索加载资源\n      loadCheckResourceBySearch() {\n        this.checkResourcePageData.currentPage = -1;\n        this.checkResourcePageData.total = -1;\n\n        this.loadCheckResourceList();\n      },\n      // 刷新表格\n      reloadCheckResourceList() {\n        this.checkResourcePageData.currentPage = -1;\n        this.checkResourcePageData.total = -1;\n        this.checkResourcePageData.search = '';\n\n        this.loadCheckResourceList();\n      },\n\n\n      // 通过审批\n      passCheckHandler() {\n        let out_this = this;\n        this.$axios.post('/platform/passResourceCheck', this.selectCheckList).then(response => {\n          let resData = response.data;\n          console.log(resData);\n          if (resData.code === 8009) {\n            // 更新表格数据\n            out_this.checkResourcePageData.currentPage = -1;\n            out_this.checkResourcePageData.total = -1;\n            out_this.loadCheckResourceList();\n          } else {\n            out_this.$message.error(resData.code + '~~~~' + out_this.$t('serverError'));\n          }\n        });\n\n        this.cancelSelection();\n      },\n      // 删除审批的资源\n      deleteCheckResourceHandler() {\n        let out_this = this;\n        this.$axios.post('/platform/deleteCheckResource', this.selectCheckList).then(response => {\n          let resData = response.data;\n          console.log(resData);\n          if (resData.code === 8007) {\n            out_this.$message({\n              message: resData.code + '~~~~' + out_this.$t('checkResource.deleted'),\n              type: 'success',\n              duration: 1500\n            });\n\n            // 更新表格数据\n            out_this.checkResourcePageData.currentPage = -1;\n            out_this.checkResourcePageData.total = -1;\n            out_this.loadCheckResourceList();\n          } else {\n            out_this.$message.error(resData.code + '~~~~' + out_this.$t('serverError'));\n          }\n        });\n\n        this.cancelSelection();\n      },\n\n      // 播放视频处理函数\n      playVideoHandler(resourceId, fileName) {\n        this.videoDialogVisible = true;\n        this.videoHostURL = `${this.$axios.defaults.baseURL}/resource/server/getVideo/${resourceId}`;\n        this.videoFileName = fileName;\n      },\n      // 关闭对话框处理函数\n      closeDialogHandler() {\n        let myVideo = document.getElementById('video-check-resource');    //对应video标签的ID\n        myVideo.pause();\n      },\n      // 判断是否为支持的视频格式\n      supportVideoType(type) {\n        if (type === 'mp4')\n          return true;\n        if (type === 'webm')\n          return true;\n        if (type === 'ogg')\n          return true;\n        return false;\n      },\n      // 翻译内容到用户选择的语言\n      translateDisciplineToSelectedLanguage(content) {  \n        switch (content) {\n          case '全部':\n            return this.$t('recommendationContent.all');\n          case '法学':\n            return this.$t('disciplines.law');\n          case '工学':\n            return this.$t('disciplines.engineering');\n          case '管理学':\n            return this.$t('disciplines.management');\n          case '计算机科学':\n            return this.$t('disciplines.computerScience');\n          case '教育学':\n            return this.$t('disciplines.education');\n          case '经济学':\n            return this.$t('disciplines.economics');\n          case '军事学':\n            return this.$t('disciplines.militaryScience');\n          case '理学':\n            return this.$t('disciplines.science');\n          case '历史学':\n            return this.$t('disciplines.history');\n          case '农学':\n            return this.$t('disciplines.agronomy');\n          case '文学':\n            return this.$t('disciplines.literature');\n          case '医学':\n            return this.$t('disciplines.medicine');\n          case '艺术学':\n            return this.$t('disciplines.artStudies');\n          case '哲学':\n            return this.$t('disciplines.philosophy');\n        }\n      }\n\n    },\n\n  }\n</script>\n\n<style scoped>\n\n  #div_check_resource_box {\n    width: 100%;\n  }\n\n  #div_check_resource_box > div {\n    margin: 3%;\n    width: 94%;\n  }\n\n  .div-top-check-resource-operation-box {\n    width: 100%;\n  }\n\n  .div-top-check-resource-operation-box > div {\n    display: inline-block;\n  }\n\n  .div-check-resource-delete {\n    width: 30%;\n  }\n\n  .div-check-resource-search-form {\n    width: 69%;\n  }\n\n  .part-video {\n    border-radius: 10px;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/user/admin/CheckResource.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"div_check_resource_box\"}},[_c('div',[_c('h3',[_vm._v(_vm._s(_vm.$t('checkResource.title')))]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\"}},[_c('div',{staticClass:\"div-top-check-resource-operation-box\"},[_c('div',{staticClass:\"div-check-resource-delete\"},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.selectCheckList.length !== 0),expression:\"this.selectCheckList.length !== 0\"}],attrs:{\"type\":\"danger\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.passCheckHandler}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('checkResource.passCheck'))+\"\\n          \")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.selectCheckList.length !== 0),expression:\"this.selectCheckList.length !== 0\"}],attrs:{\"type\":\"danger\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.deleteCheckResourceHandler}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('checkResource.deleteResource'))+\"\\n          \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"div-check-resource-search-form\"},[_c('el-form',{ref:\"searchForm\",staticStyle:{\"width\":\"100%\"},attrs:{\"model\":_vm.checkResourcePageData,\"label-width\":\"100px\",\"align\":\"right\"}},[_c('el-form-item',[_c('el-input',{staticStyle:{\"width\":\"60%\",\"margin-right\":\"20px\"},attrs:{\"placeholder\":(\"\" + (_vm.$t('checkResource.placeholderPrompt')))},model:{value:(_vm.checkResourcePageData.search),callback:function ($$v) {_vm.$set(_vm.checkResourcePageData, \"search\", $$v)},expression:\"checkResourcePageData.search\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\",\"circle\":\"\"},on:{\"click\":_vm.loadCheckResourceBySearch}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\",\"circle\":\"\"},on:{\"click\":_vm.reloadCheckResourceList}},[_c('i',{staticClass:\"el-icon-refresh\"})])],1)],1)],1)]),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.checkResourceTableList,\"default-sort\":{prop: 'upload_time', order: 'descending'}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"upload_time\",\"label\":(\"\" + (_vm.$t('checkResource.uploadTime'))),\"sortable\":\"\",\"min-width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":(\"\" + (_vm.$t('checkResource.state'))),\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.state === '审批中')?_c('el-tag',{attrs:{\"type\":\"danger\"}},[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(_vm._s(_vm.$t('checkResource.waitting'))+\"\\n            \")]):_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(scope.row.state == '已通过审批'? _vm.$t('checkResource.passed'): _vm.$t('checkResource.waitting')))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"origin_name\",\"label\":(\"\" + (_vm.$t('checkResource.fileName'))),\"min-width\":\"350\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"discipline\",\"label\":(\"\" + (_vm.$t('checkResource.discipline'))),\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"\",\"min-width\":\"120\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.supportVideoType(scope.row.type))?_c('el-button',{attrs:{\"slot\":\"reference\"},on:{\"click\":function($event){return _vm.playVideoHandler(scope.row.id, scope.row.origin_name)}},slot:\"reference\"},[_c('i',{staticClass:\"fa fa-play-circle fa-2x\"})]):_c('span',[_vm._v(_vm._s(_vm.$t('checkResource.donotSupportPlay')))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":(\"\" + (_vm.$t('checkResource.resourceIntroduction'))),\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"bottom\",\"title\":(\"\" + (_vm.$t('checkResource.resourceIntroduction'))),\"width\":\"500\",\"trigger\":\"click\",\"content\":scope.row.description}},[_c('el-button',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(_vm._s(_vm.$t('checkResource.introductionReview')))])],1)]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"block\",attrs:{\"align\":\"center\"}},[_c('br'),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.checkResourcePageData.currentPage,\"page-size\":_vm.checkResourcePageData.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.checkResourcePageData.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{staticStyle:{\"margin-top\":\"-5%\"},attrs:{\"title\":\"\" + (_vm.$t('checkResource.checking')) + _vm.videoFileName,\"visible\":_vm.videoDialogVisible,\"width\":\"90%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.videoDialogVisible=$event},\"close\":_vm.closeDialogHandler}},[_c('div',{staticStyle:{\"width\":\"100%\"},attrs:{\"align\":\"center\"}},[_c('video',{staticStyle:{\"position\":\"absolute\",\"top\":\"60px\",\"left\":\"0\",\"width\":\"100%\",\"height\":\"auto\"},attrs:{\"id\":\"video-check-resource\",\"controls\":\"\",\"src\":_vm.videoHostURL}})])])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-04a71137\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/admin/CheckResource.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-04a71137\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CheckResource.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CheckResource.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CheckResource.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-04a71137\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CheckResource.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-04a71137\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/admin/CheckResource.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}